<?xml version="1.0"?>

<bindings id="rubyBinding"
		xmlns="http://www.mozilla.org/xbl"
		xmlns:xbl="http://www.mozilla.org/xbl"
		xmlns:html="http://www.w3.org/1999/xhtml"
		xmlns:RUBY="http://piro.sakura.ne.jp/rubysupport">

	<binding id="ruby-attribute" includes="*">
		<content>
			<html:ruby
				inherits="moz-ruby-parsed,moz-ruby-type,title=rubytext"
				xbl:inherits="title=rubytext"
				class="ruby-auto-expanded">
				<html:rb><children/></html:rb>
				<html:rp>(</html:rp>
				<html:rt xbl:inherits="xbl:text=rubytext"/>
				<html:rp>)</html:rp>
			</html:ruby>
		</content>
	</binding>

	<binding id="ruby-row-base" includes="*">
		<implementation>
			<property name="cellBoxObject" readonly="true"
				onget="return document.getBoxObjectFor(this.cellBox);"/>
			<field name="_cellBox">
				null
			</field>
		</implementation>
	</binding>

	<binding id="ruby-row-group" includes="*"
		extends="chrome://rubysupport/content/styles/ruby.xml#ruby-row-base">
		<content>
			<RUBY:row><RUBY:cell><children/></RUBY:cell></RUBY:row>
		</content>
		<implementation>
			<property name="cellBox" readonly="true"
				onget="if (!this._cellBox) { this._cellBox = document.getAnonymousNodes(this)[0].firstChild; } return this._cellBox;"/>
		</implementation>
	</binding>

	<binding id="ruby-row-group-row" includes="*"
		extends="chrome://rubysupport/content/styles/ruby.xml#ruby-row-base">
		<content>
			<RUBY:row><children/></RUBY:row>
		</content>
		<implementation>
			<property name="cellBox" readonly="true"
				onget="if (!this._cellBox) { this._cellBox = this.firstChild; } return this._cellBox;"/>
		</implementation>
	</binding>

	<binding id="ruby-text-box" includes="*">
		<content>
			<html:span class="ruby-text-lettersBox">
				<children/>
			</html:span>
			<html:span class="ruby-text-lastLetterBox"/>
		</content>
		<implementation>
			<property name="lettersBox" readonly="true"
				onget="if (!this._letters) { this._letters = document.getAnonymousNodes(this)[0]; } return this._letters;"/>
			<property name="lastLetterBox" readonly="true"
				onget="if (!this._lastLetter) { this._lastLetter = document.getAnonymousNodes(this)[1]; } return this._lastLetter;"/>
		</implementation>
	</binding>

</bindings>
